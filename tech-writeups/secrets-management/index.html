<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>secrets-management</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #1e1e2e;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.05;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .back-link {
            color: #5bc0de;
            text-decoration: none;
            padding: 10px;
            display: block;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .back-link:hover {
            color: #ff6b6b;
            text-shadow: 0 0 5px rgba(255, 107, 107, 0.5);
        }

        .terminal-window {
            background: #2a2a3a;
            border: 2px solid #5bc0de;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 0 15px rgba(91, 192, 222, 0.2);
        }

        .terminal-header {
            background: #3a3a4a;
            padding: 10px;
            border-bottom: 1px solid #5bc0de;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terminal-dots {
            display: flex;
            gap: 5px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot.red { background: #ff5f56; }
        .dot.yellow { background: #ffbd2e; }
        .dot.green { background: #27ca3f; }

        .terminal-title {
            color: #a0a0a0;
            font-size: 14px;
        }

        .terminal-content {
            padding: 20px;
            padding: 20px 30px;
}

        .terminal-content pre {
            background: #1e1e2e;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }

        .terminal-content code {
            font-family: 'Courier New', monospace;
        }

        .terminal-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .terminal-content th, .terminal-content td {
            border: 1px solid #5bc0de;
            padding: 10px;
            text-align: left;
        }

        .terminal-content th {
            background: #3a3a4a;
            color: #e0e0e0;
        }

        .terminal-content td {
            background: #2a2a3a;
        }

        .prompt {
            color: #5bc0de;
            margin-bottom: 10px;
        }

        .command {
            color: #ff6b6b;
        }

        h1 {
            color: #e0e0e0;
            font-weight: normal;
            text-shadow: 0 0 5px rgba(91, 192, 222, 0.3);
            font-size: 2.2em;
            text-align: center;
            margin-bottom: 20px;
        }

        h2, h3 {
            color: #e0e0e0;
            font-weight: normal;
            margin-bottom: 10px;
        }

        hr {
            border: 0;
            border-top: 1px solid #5bc0de;
            margin: 10px 0 20px 0;
            opacity: 0.5;
        }

        @keyframes glow {
            from { text-shadow: 0 0 5px rgba(91, 192, 222, 0.3); }
            to { text-shadow: 0 0 10px rgba(91, 192, 222, 0.5); }
        }

        .footer {
            text-align: center;
            padding: 20px;
            border-top: 1px solid #5bc0de;
            margin-top: 50px;
            color: #a0a0a0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            
            .terminal-content {
                padding: 15px 20px;
            }

            .terminal-content ol {
                margin-left: 10px;
            }
}
            
            h1 {
                font-size: 1.8em;
                margin-bottom: 15px;
            }

            h2, h3 {
                margin-bottom: 8px;
            }

            hr {
                margin: 8px 0 15px 0;
            }

            .terminal-content table {
                font-size: 0.9em;
            }
        }

        .matrix-char {
            position: absolute;
            color: #5bc0de;
            font-family: monospace;
            font-size: 14px;
            animation: matrix-fall linear infinite;
        }

        @keyframes matrix-fall {
            0% { opacity: 1; transform: translateY(-100vh); }
            100% { opacity: 0; transform: translateY(100vh); }
        }
    
        .terminal-content ol {
            margin-left: 15px;
        }

        .terminal-content ol li {
            margin-bottom: 10px;
        }
</style>
</head>
<body>
    <canvas class="matrix-bg" id="matrixCanvas"></canvas>

    <div class="container">
        <a href="https://anish7600.github.io/tech-writeups" class="back-link">← Back</a>
        
        <h1>secrets-management</h1>
        <hr>

        <div class="terminal-window">
            <div class="terminal-header">
                <div class="terminal-dots">
                    <div class="dot red"></div>
                    <div class="dot yellow"></div>
                    <div class="dot green"></div>
                </div>
                <div class="terminal-title">~/technical-writeups/secrets-management/index.sh</div>
            </div>
            <div class="terminal-content">
                <p><a href="https://anish7600.github.io/technical-writeups" style="text-decoration: none;">← Back</a></p>
<h1>Secrets Management in DevOps (Vault, AWS Secrets Manager)</h1><hr>
<p>Secrets such as API keys, database passwords, TLS certificates, and SSH keys are critical assets in modern software systems. Hardcoding or mismanaging these secrets can lead to severe security breaches. Secrets management tools help securely store, access, and manage these sensitive credentials.</p>
<p>This writeup explores the <strong>principles of secrets management</strong> and compares <strong>HashiCorp Vault</strong> and <strong>AWS Secrets Manager</strong>.</p>
<hr />
<h2>Why Secrets Management is Critical</h2><hr>
<p>Without proper management, secrets may:</p>
<ul>
<li>Be leaked in version control systems (e.g., GitHub).</li>
<li>Be exposed in container images or environment variables.</li>
<li>Lack proper rotation or lifecycle management.</li>
<li>Be over-permissioned and unmonitored.</li>
</ul>
<p>A robust secrets management system enforces:</p>
<ul>
<li>Centralized storage</li>
<li>Fine-grained access controls (RBAC/ABAC)</li>
<li>Auditing and logging</li>
<li>Automated rotation</li>
<li>Encryption at rest and in transit</li>
</ul>
<hr />
<h2>HashiCorp Vault</h2><hr>
<p><strong>Vault</strong> is a popular open-source tool designed to manage secrets and protect sensitive data.</p>
<h3>Features:</h3><hr>
<ul>
<li><strong>Dynamic secrets</strong>: Generates secrets on demand (e.g., DB credentials).</li>
<li><strong>Secret engines</strong>: Support for multiple backends like AWS, PostgreSQL, PKI, etc.</li>
<li><strong>Policy-based access control</strong>: Uses HCL for defining who can access what.</li>
<li><strong>Audit logs</strong>: All access can be logged for compliance.</li>
<li><strong>Encryption as a Service</strong>: Secure storage for app secrets.</li>
</ul>
<h3>Architecture:</h3><hr>
<p>Vault supports both:</p>
<ul>
<li><strong>Dev mode</strong>: For local testing</li>
<li><strong>HA mode</strong>: With integrated storage or external backends like Consul</li>
</ul>
<h3>Example Workflow:</h3><hr>
<pre class="codehilite"><code class="language-bash"># Start Vault in dev mode
vault server -dev

# Authenticate
vault login &lt;token&gt;

# Store a secret
vault kv put secret/db password='mysecret'

# Retrieve it
vault kv get secret/db
</code></pre>

<hr />
<h2>️ AWS Secrets Manager</h2><hr>
<p><strong>AWS Secrets Manager</strong> is a fully managed secrets storage service designed for use within the AWS ecosystem.</p>
<h3>Features:</h3><hr>
<ul>
<li>Native integration with <strong>AWS IAM</strong>, <strong>RDS</strong>, <strong>Lambda</strong>, etc.</li>
<li><strong>Automatic rotation</strong> using Lambda functions</li>
<li><strong>Encryption with KMS</strong></li>
<li><strong>Secure access</strong> via IAM roles or resource-based policies</li>
</ul>
<h3>Example Usage:</h3><hr>
<pre class="codehilite"><code class="language-bash"># Store a secret
aws secretsmanager create-secret \
  --name my-db-pass \
  --secret-string '{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:&quot;pass&quot;}'

# Retrieve a secret
aws secretsmanager get-secret-value --secret-id my-db-pass
</code></pre>

<hr />
<h2>Comparison: Vault vs AWS Secrets Manager</h2><hr>
<table>
<thead>
<tr>
<th>Feature</th>
<th>HashiCorp Vault</th>
<th>AWS Secrets Manager</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hosting</td>
<td>Self-hosted or cloud-managed</td>
<td>Fully managed (AWS only)</td>
</tr>
<tr>
<td>Secret Rotation</td>
<td>Dynamic secrets, customizable</td>
<td>Built-in for RDS, Lambda-based extensible</td>
</tr>
<tr>
<td>Integration</td>
<td>Cloud-agnostic</td>
<td>Deep AWS integration</td>
</tr>
<tr>
<td>Audit Logging</td>
<td>Built-in</td>
<td>CloudTrail/AWS logging</td>
</tr>
<tr>
<td>Use Case Fit</td>
<td>Multi-cloud, advanced security needs</td>
<td>AWS-native apps</td>
</tr>
<tr>
<td>Cost</td>
<td>Free/self-hosted (open-source)</td>
<td>Pay-per-secret and per-access</td>
</tr>
</tbody>
</table>
<hr />
<h2>Best Practices</h2><hr>
<ul>
<li>Never commit secrets to version control.</li>
<li>Use <strong>environment-specific secrets</strong> (dev/stage/prod).</li>
<li>Apply <strong>least privilege access</strong> using policies.</li>
<li>Regularly <strong>rotate secrets</strong> and set expiry dates.</li>
<li>Monitor and <strong>audit secret usage</strong>.</li>
</ul>
<hr />
<h2>Conclusion</h2><hr>
<p>Secrets management is a foundational pillar in DevOps and cloud security. Tools like <strong>Vault</strong> provide flexibility and strong security controls for multi-cloud environments, while <strong>AWS Secrets Manager</strong> offers ease of use for AWS-native systems. Choosing the right solution depends on your architecture, team skillsets, and compliance needs.</p>
            </div>
        </div>

        <div class="footer">
            <div class="prompt">root@writeup:~$ <span class="command">echo "End of transmission"</span></div>
            <p>&copy; 2025 Anish. All rights reserved.</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Highlight.js
            hljs.highlightAll();

            const canvas = document.getElementById('matrixCanvas');
            if (!canvas) {
                console.error('Canvas element not found');
                return;
            }
            const ctx = canvas.getContext('2d');
            if (!ctx) {
                console.error('Canvas context not available');
                return;
            }

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+-=[]{}|;:,.<>?';
            const charArray = chars.split('');
            const fontSize = 14;
            const columns = Math.floor(canvas.width / fontSize);
            const drops = Array(columns).fill(1);

            function draw() {
                ctx.fillStyle = 'rgba(30, 30, 46, 0.04)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#5bc0de';
                ctx.font = `${fontSize}px monospace`;

                for (let i = 0; i < drops.length; i++) {
                    const text = charArray[Math.floor(Math.random() * charArray.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }

            setInterval(draw, 35);

            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        });
    </script>
</body>
</html>
